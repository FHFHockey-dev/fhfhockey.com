/////////////////////////////////////////////////////////////////////////////////////////
// C:\Users\timbr\OneDrive\Desktop\fhfhockey.com-3\web\styles\Post.module.scss

@use "styles/vars" as vars;

.postPage {
  margin-top: vars.$mobile-space-md;
  margin-bottom: vars.$mobile-space-xxl;

  .mainContent {
    .post {
      background: vars.$surface-1;
      border: 1px solid vars.$border-primary;
      border-radius: 12px;
      padding: clamp(1rem, 2vw, 1.5rem);
      overflow: hidden;
      display: block;
      box-shadow: vars.$shadow-hover;

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 8px;
        color: vars.$primary-color;
        border-bottom: 1px solid vars.$border-secondary;
        padding: 0.6rem 0.2rem 0.8rem;

        h1 {
          margin: 0;
          color: vars.$text-primary;
          letter-spacing: 0.2px;
          line-height: 1.15;
        }
      }

      .actions {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        margin-top: vars.$mobile-space-md;
        gap: vars.$mobile-space-sm;
      }

      /* Rich content image blocks */
      img {
        margin: vars.$mobile-space-md 0;
        width: 100% !important;
        height: auto !important;
        max-width: 100% !important;
        float: none !important;
        border-radius: 10px;
        border: 1px solid vars.$border-secondary;
        background: vars.$surface-2;
      }

      /* PortableText figures (wrapping + captions) */
      .figure {
        display: block;
        border-radius: 10px;
        overflow: hidden;
        border: 1px solid vars.$border-secondary;
        background: vars.$surface-2;
      }
      .figcaption {
        color: vars.$text-secondary;
        font-size: vars.$mobile-font-size-xs;
        line-height: vars.$mobile-line-height-normal;
        padding: 0.4rem 0.6rem;
        border-top: 1px solid vars.$border-secondary;
        text-align: center;
      }

      /* Ensure text wraps around floated figures on wide screens */
      p,
      ul,
      ol,
      blockquote {
        overflow: visible;
      }

      /* On small screens, clear floats and make figures full width */
      @media only screen and (max-width: vars.$breakpoint-mobile-lg) {
        .figure {
          float: none !important;
          margin: vars.$mobile-space-md 0 !important;
          max-width: 100% !important;
        }
      }

      /* Prose typography */
      :global(.portableText),
      .portableText {
        color: vars.$text-primary;
        font-size: vars.$mobile-font-size-sm;
        line-height: vars.$mobile-line-height-relaxed;

        h2,
        h3,
        h4,
        h5,
        h6 {
          color: vars.$text-primary;
          margin-top: 1.25em;
          margin-bottom: 0.5em;
          line-height: 1.2;
        }

        p {
          margin: 0.85em 0;
        }

        a {
          color: vars.$primary-color;
          text-decoration: underline;
          text-underline-offset: 3px;
          text-decoration-thickness: 2px;

          &:hover {
            color: mix(#fff, vars.$primary-color, 5%);
          }
        }

        blockquote {
          margin: 1rem 0;
          padding: 0.75rem 1rem;
          border-left: 3px solid vars.$border-accent;
          background: vars.$surface-2;
          border-radius: 8px;
          color: vars.$text-secondary;
        }

        ul,
        ol {
          padding-left: 1.25rem;
        }
      }
    }

    .commentForm {
      margin-top: vars.$mobile-space-xl;
      clear: both;
    }
  }
  .recentPosts {
    display: none;
  }

  @media only screen and (min-width: vars.$screen-large) {
    display: grid;
    grid-template-columns: 28% 1fr;
    column-gap: vars.$mobile-space-lg;
    .recentPosts {
      display: block;
      order: 1;
      position: sticky;
      top: vars.$mobile-space-xl;
      height: fit-content;
    }
    .mainContent {
      order: 2;
    }
  }
}
