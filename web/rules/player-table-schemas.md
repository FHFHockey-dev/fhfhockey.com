# nst_gamelog_as_rates

```sql
create table public.nst_gamelog_as_rates (
  id bigserial not null,
  player_id bigint not null,
  season integer not null,
  date_scraped date not null,
  gp smallint null,
  toi integer null,
  toi_per_gp double precision null,
  icf_per_60 double precision null,
  hdcf_per_60 double precision null,
  goals_per_60 numeric null,
  total_assists_per_60 numeric null,
  first_assists_per_60 numeric null,
  second_assists_per_60 numeric null,
  shots_per_60 numeric null,
  ixg_per_60 numeric null,
  iff_per_60 numeric null,
  rush_attempts_per_60 numeric null,
  rebounds_created_per_60 numeric null,
  pim_per_60 numeric null,
  penalties_drawn_per_60 numeric null,
  giveaways_per_60 numeric null,
  takeaways_per_60 numeric null,
  hits_per_60 numeric null,
  shots_blocked_per_60 numeric null,
  faceoffs_won_per_60 numeric null,
  faceoffs_lost_per_60 numeric null,
  hits_taken_per_60 numeric null,
  total_points_per_60 numeric null,
  iscfs_per_60 numeric null,
  ipp double precision null,
  sh_percentage double precision null,
  faceoffs_percentage double precision null,
  major_penalties_per_60 double precision null,
  minor_penalties_per_60 double precision null,
  misconduct_penalties_per_60 double precision null,
  total_penalties_per_60 double precision null,
  constraint nst_gamelog_as_rates_pkey primary key (id),
  constraint nst_gamelog_as_rates_unique unique (player_id, date_scraped),
  constraint unique_player_date_as_rates unique (player_id, date_scraped),
  constraint nst_gamelog_as_rates_player_id_fkey foreign KEY (player_id) references players (id) on delete CASCADE
) TABLESPACE pg_default;

create index IF not exists nst_rates_pid_date_season on public.nst_gamelog_as_rates using btree (player_id, date_scraped, season) TABLESPACE pg_default;

create index IF not exists nst_rates_key_idx on public.nst_gamelog_as_rates using btree (player_id, date_scraped, season) TABLESPACE pg_default;

create index IF not exists nst_gamelog_as_rates_key_idx on public.nst_gamelog_as_rates using btree (player_id, date_scraped, season) TABLESPACE pg_default;
```

# nst_gamelog_as_counts

```sql
create table public.nst_gamelog_as_counts (
  id bigserial not null,
  player_id bigint not null,
  season integer not null,
  date_scraped date not null,
  gp smallint null,
  toi integer null,
  goals smallint null,
  total_assists smallint null,
  first_assists smallint null,
  second_assists smallint null,
  total_points smallint null,
  shots smallint null,
  ixg double precision null,
  icf smallint null,
  iff smallint null,
  iscfs smallint null,
  hdcf smallint null,
  rush_attempts smallint null,
  rebounds_created smallint null,
  pim smallint null,
  total_penalties smallint null,
  minor_penalties smallint null,
  major_penalties smallint null,
  misconduct_penalties smallint null,
  penalties_drawn smallint null,
  giveaways smallint null,
  takeaways smallint null,
  hits smallint null,
  hits_taken smallint null,
  shots_blocked smallint null,
  faceoffs_won smallint null,
  faceoffs_lost smallint null,
  ipp numeric null,
  faceoffs_percentage double precision null,
  sh_percentage double precision null,
  constraint nst_gamelog_as_counts_pkey primary key (id),
  constraint nst_gamelog_as_counts_unique unique (player_id, date_scraped),
  constraint unique_player_date_as_counts unique (player_id, date_scraped),
  constraint nst_gamelog_as_counts_player_id_fkey foreign KEY (player_id) references players (id) on delete CASCADE
) TABLESPACE pg_default;

create index IF not exists nst_counts_pid_date_season on public.nst_gamelog_as_counts using btree (player_id, date_scraped, season) TABLESPACE pg_default;

create index IF not exists idx_nst_gamelog_as_counts_player_date on public.nst_gamelog_as_counts using btree (player_id, date_scraped desc) TABLESPACE pg_default;

create index IF not exists nst_counts_key_idx on public.nst_gamelog_as_counts using btree (player_id, date_scraped, season) TABLESPACE pg_default;

create index IF not exists nst_gamelog_as_counts_key_idx on public.nst_gamelog_as_counts using btree (player_id, date_scraped, season) TABLESPACE pg_default;
```

# wgo_skater_stats

```sql
create table public.wgo_skater_stats (
  id serial not null,
  player_id integer not null,
  player_name text not null,
  date date not null,
  shoots_catches text null,
  position_code text null,
  games_played integer null,
  points integer null,
  points_per_game double precision null,
  goals integer null,
  assists integer null,
  shots integer null,
  shooting_percentage double precision null,
  plus_minus integer null,
  ot_goals integer null,
  gw_goals integer null,
  pp_points integer null,
  fow_percentage double precision null,
  toi_per_game double precision null,
  blocked_shots integer null,
  blocks_per_60 double precision null,
  empty_net_assists integer null,
  empty_net_goals integer null,
  empty_net_points integer null,
  first_goals integer null,
  giveaways integer null,
  giveaways_per_60 double precision null,
  hits integer null,
  hits_per_60 double precision null,
  missed_shot_crossbar integer null,
  missed_shot_goal_post integer null,
  missed_shot_over_net integer null,
  missed_shot_short_side integer null,
  missed_shot_wide_of_net integer null,
  missed_shots integer null,
  takeaways integer null,
  takeaways_per_60 double precision null,
  d_zone_fo_percentage double precision null,
  d_zone_faceoffs integer null,
  ev_faceoff_percentage double precision null,
  ev_faceoffs integer null,
  n_zone_fo_percentage double precision null,
  n_zone_faceoffs integer null,
  o_zone_fo_percentage double precision null,
  o_zone_faceoffs integer null,
  pp_faceoff_percentage double precision null,
  pp_faceoffs integer null,
  sh_faceoff_percentage double precision null,
  sh_faceoffs integer null,
  total_faceoffs integer null,
  d_zone_fol integer null,
  d_zone_fow integer null,
  ev_fol integer null,
  ev_fow integer null,
  n_zone_fol integer null,
  n_zone_fow integer null,
  o_zone_fol integer null,
  o_zone_fow integer null,
  pp_fol integer null,
  pp_fow integer null,
  sh_fol integer null,
  sh_fow integer null,
  total_fol integer null,
  total_fow integer null,
  es_goal_diff integer null,
  es_goals_against integer null,
  es_goals_for integer null,
  es_goals_for_percentage double precision null,
  es_toi_per_game double precision null,
  pp_goals_against integer null,
  pp_goals_for integer null,
  pp_toi_per_game double precision null,
  sh_goals_against integer null,
  sh_goals_for integer null,
  sh_toi_per_game double precision null,
  game_misconduct_penalties integer null,
  major_penalties integer null,
  match_penalties integer null,
  minor_penalties integer null,
  misconduct_penalties integer null,
  net_penalties integer null,
  net_penalties_per_60 double precision null,
  penalties integer null,
  penalties_drawn integer null,
  penalties_drawn_per_60 double precision null,
  penalties_taken_per_60 double precision null,
  penalty_minutes integer null,
  penalty_minutes_per_toi double precision null,
  penalty_seconds_per_game double precision null,
  pp_goals_against_per_60 double precision null,
  sh_assists integer null,
  sh_goals integer null,
  sh_points integer null,
  sh_goals_per_60 double precision null,
  sh_individual_sat_for integer null,
  sh_individual_sat_per_60 double precision null,
  sh_points_per_60 double precision null,
  sh_primary_assists integer null,
  sh_primary_assists_per_60 double precision null,
  sh_secondary_assists integer null,
  sh_secondary_assists_per_60 double precision null,
  sh_shooting_percentage double precision null,
  sh_shots integer null,
  sh_shots_per_60 double precision null,
  sh_time_on_ice integer null,
  sh_time_on_ice_pct_per_game double precision null,
  pp_assists integer null,
  pp_goals integer null,
  pp_goals_for_per_60 double precision null,
  pp_goals_per_60 double precision null,
  pp_individual_sat_for integer null,
  pp_individual_sat_per_60 double precision null,
  pp_points_per_60 double precision null,
  pp_primary_assists integer null,
  pp_primary_assists_per_60 double precision null,
  pp_secondary_assists integer null,
  pp_secondary_assists_per_60 double precision null,
  pp_shooting_percentage double precision null,
  pp_shots integer null,
  pp_shots_per_60 double precision null,
  pp_toi integer null,
  pp_toi_pct_per_game double precision null,
  goals_pct double precision null,
  faceoff_pct_5v5 double precision null,
  individual_sat_for_per_60 double precision null,
  individual_shots_for_per_60 double precision null,
  on_ice_shooting_pct double precision null,
  sat_pct double precision null,
  toi_per_game_5v5 double precision null,
  usat_pct double precision null,
  zone_start_pct double precision null,
  sat_against integer null,
  sat_ahead integer null,
  sat_behind integer null,
  sat_close integer null,
  sat_for integer null,
  sat_tied integer null,
  sat_total integer null,
  usat_against integer null,
  usat_ahead integer null,
  usat_behind integer null,
  usat_close integer null,
  usat_for integer null,
  usat_tied integer null,
  usat_total integer null,
  sat_percentage double precision null,
  sat_percentage_ahead double precision null,
  sat_percentage_behind double precision null,
  sat_percentage_close double precision null,
  sat_percentage_tied double precision null,
  sat_relative double precision null,
  shooting_percentage_5v5 double precision null,
  skater_save_pct_5v5 double precision null,
  skater_shooting_plus_save_pct_5v5 double precision null,
  usat_percentage double precision null,
  usat_percentage_ahead double precision null,
  usat_percentage_behind double precision null,
  usat_percentage_close double precision null,
  usat_percentage_tied double precision null,
  usat_relative double precision null,
  zone_start_pct_5v5 double precision null,
  assists_5v5 integer null,
  assists_per_60_5v5 double precision null,
  goals_5v5 integer null,
  goals_per_60_5v5 double precision null,
  net_minor_penalties_per_60 double precision null,
  o_zone_start_pct_5v5 double precision null,
  on_ice_shooting_pct_5v5 double precision null,
  points_5v5 integer null,
  points_per_60_5v5 double precision null,
  primary_assists_5v5 integer null,
  primary_assists_per_60_5v5 double precision null,
  sat_relative_5v5 double precision null,
  secondary_assists_5v5 integer null,
  secondary_assists_per_60_5v5 double precision null,
  assists_per_game double precision null,
  blocks_per_game double precision null,
  goals_per_game double precision null,
  hits_per_game double precision null,
  penalty_minutes_per_game double precision null,
  primary_assists_per_game double precision null,
  secondary_assists_per_game double precision null,
  shots_per_game double precision null,
  total_primary_assists integer null,
  total_secondary_assists integer null,
  goals_backhand integer null,
  goals_bat integer null,
  goals_between_legs integer null,
  goals_cradle integer null,
  goals_deflected integer null,
  goals_poke integer null,
  goals_slap integer null,
  goals_snap integer null,
  goals_tip_in integer null,
  goals_wrap_around integer null,
  goals_wrist integer null,
  shooting_pct_backhand double precision null,
  shooting_pct_bat double precision null,
  shooting_pct_between_legs double precision null,
  shooting_pct_cradle double precision null,
  shooting_pct_deflected double precision null,
  shooting_pct_poke double precision null,
  shooting_pct_slap double precision null,
  shooting_pct_snap double precision null,
  shooting_pct_tip_in double precision null,
  shooting_pct_wrap_around double precision null,
  shooting_pct_wrist double precision null,
  shots_on_net_backhand integer null,
  shots_on_net_bat integer null,
  shots_on_net_between_legs integer null,
  shots_on_net_cradle integer null,
  shots_on_net_deflected integer null,
  shots_on_net_poke integer null,
  shots_on_net_slap integer null,
  shots_on_net_snap integer null,
  shots_on_net_tip_in integer null,
  shots_on_net_wrap_around integer null,
  shots_on_net_wrist integer null,
  ev_time_on_ice integer null,
  ev_time_on_ice_per_game double precision null,
  ot_time_on_ice integer null,
  ot_time_on_ice_per_game double precision null,
  shifts integer null,
  shifts_per_game double precision null,
  time_on_ice_per_shift double precision null,
  birth_city text null,
  birth_date text null,
  current_team_abbreviation text null,
  current_team_name text null,
  draft_overall integer null,
  draft_round integer null,
  draft_year integer null,
  first_season_for_game_type integer null,
  nationality_code text null,
  weight integer null,
  height integer null,
  birth_country text null,
  season_id integer null,
  game_id bigint null,
  team_abbrev text null,
  opponent_team_abbrev text null,
  home_road character(1) null,
  ev_goals integer null,
  ev_points integer null,
  constraint wgo_skater_stats_pkey primary key (id)
) TABLESPACE pg_default;

create index IF not exists idx_wgo_skater_stats_player_id on public.wgo_skater_stats using btree (player_id) TABLESPACE pg_default;

create index IF not exists idx_wgo_skater_stats_player_date on public.wgo_skater_stats using btree (player_id, date desc) TABLESPACE pg_default;

create index IF not exists idx_wgo_skater_stats_date on public.wgo_skater_stats using btree (date desc) TABLESPACE pg_default;

create unique INDEX IF not exists wgo_skater_stats_player_id_date_key on public.wgo_skater_stats using btree (player_id, date) TABLESPACE pg_default;

create index IF not exists skater_name_norm_btree on public.wgo_skater_stats using btree (immutable_unaccent (lower(player_name))) TABLESPACE pg_default;

create index IF not exists wgo_skater_stats_gp1_date on public.wgo_skater_stats using btree (date) TABLESPACE pg_default
where
  (games_played = 1);

create index IF not exists wgo_skater_stats_date_brin on public.wgo_skater_stats using brin (date)
with
  (pages_per_range = '64') TABLESPACE pg_default
where
  (games_played = 1);

create index IF not exists wgo_skater_stats_g1_idx on public.wgo_skater_stats using btree (player_id, date, season_id) TABLESPACE pg_default
where
  (games_played = 1);

create index IF not exists wgo_skater_stats_date_idx on public.wgo_skater_stats using btree (date) TABLESPACE pg_default
where
  (games_played = 1);

create index IF not exists wgo_skater_stats_pid_date_season on public.wgo_skater_stats using btree (player_id, date, season_id) TABLESPACE pg_default;
```

