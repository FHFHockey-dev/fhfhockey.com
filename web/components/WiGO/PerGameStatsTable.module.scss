// components/WiGO/PerGameStatsTable.module.scss
/* /styles/wigoCharts.module.scss */
@use "sass:color";
@use "styles/vars" as v; // Import variables from vars.scss
@use "sass:math";
@import url("https://fonts.googleapis.com/css2?family=Train+One&family=Zen+Tokyo+Zoo&display=swap");

.perGameTableContainer {
  width: 100%;
  height: 100%;
  overflow: hidden; // Prevent scrollbars on the container itself
  background-color: v.$background-medium;
  color: v.$text-color-primary;
  font-family: v.$font-family-primary;
  display: flex;
  flex-direction: column;
  padding: v.$space-xs; // Add slight padding around table
  box-sizing: border-box;

  // Add overflow-x specifically for the table if columns are too wide
  overflow-x: auto;
  &::-webkit-scrollbar {
    height: 4px;
  } // Slimmer horizontal scrollbar
  &::-webkit-scrollbar-thumb {
    background-color: v.$primary-color;
    border-radius: 2px;
  }
  &::-webkit-scrollbar-track {
    background-color: v.$background-medium;
  }
  scrollbar-width: thin;
  scrollbar-color: v.$primary-color v.$background-medium;

  table.transposedTable {
    // Target the specific table class
    width: 100%; // Allow table to potentially exceed container width if needed
    border-collapse: collapse;
    // height: 100%; // Height determined by content rows now

    th,
    td {
      padding: v.$space-xs v.$space-sm; // Consistent padding
      text-align: center;
      font-size: v.$font-size-small * 0.9; // Keep font size potentially small
      border: 1px solid v.$border-color-secondary; // Use secondary for internal lines
      white-space: nowrap;
    }

    thead th {
      // Column Headers (GP, G, A...)
      background-color: v.$background-dark;
      color: v.$text-color-secondary;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 1; // Sticky header row
      border-bottom: 2px solid v.$secondary-color; // Stronger bottom border
    }

    thead th.metricHeaderCell, // First header cell (top-left corner)
    tbody th.rowHeaderCell {
      // Row Headers (Per/GP, Per/82)
      background-color: v.$background-dark;
      color: v.$text-color-secondary;
      font-weight: 600;
      text-align: left;
      padding-left: v.$space-md;
      position: sticky;
      left: 0;
      z-index: 1; // Make row headers sticky
      border-right: 2px solid v.$secondary-color; // Stronger right border
    }

    tbody th.rowHeaderCell {
      // Specific styling for Per/GP, Per/82 headers
      background-color: v.$background-medium; // Slightly different background
      color: v.$primary-color; // Use primary color
      font-size: v.$font-size-small;
    }

    thead th.metricHeaderCell {
      // Style the very top-left cell if needed
      z-index: 2; // Make sure it's above sticky row headers
    }

    tbody tr {
      // Style the data rows
      transition: background-color v.$transition-duration v.$transition-easing;
      &:nth-child(even) {
        background-color: v.$background-light;
      }
      &:nth-child(odd) {
        background-color: v.$background-dark;
      }
      &:hover {
        background-color: color.scale(v.$primary-color, $alpha: -70%);
      }
    }

    tbody td {
      // Style data cells
      color: v.$text-color-primary;
    }
  }

  // Keep message styles
  .loadingMessage,
  .errorMessage,
  .noDataMessage,
  .noPlayerMessage {
    // ... (styles remain the same) ...
  }
}
